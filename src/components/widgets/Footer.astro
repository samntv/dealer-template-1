---
import { Icon } from "astro-icon/components";
import { footerData } from "~/navigation";
import { SITE_NAME } from "~/utils/config";

const {
  links = [],
  secondaryLinks = [],
  socialLinks = [],
  footNote = "",
} = footerData;
const currentYear = new Date().getFullYear();
---

<footer class="bg-gray-900 text-gray-300">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
      {
        links.map((section) => (
          <div>
            <h4 class="text-white font-semibold mb-4">{section.title}</h4>
            <ul class="space-y-2 text-sm">
              {section.links.map((link) => (
                <li>
                  <a href={link.href} class="hover:text-white transition">
                    {link.text}
                  </a>
                </li>
              ))}
            </ul>
          </div>
        ))
      }
    </div>

    <div class="border-t border-gray-800 pt-8">
      <div class="flex flex-col md:flex-row justify-between items-center gap-4">
        <!-- Secondary Links -->
        {
          secondaryLinks.length > 0 && (
            <div class="flex gap-4 text-sm">
              {secondaryLinks.map((link, index) => (
                <>
                  <a href={link.href} class="hover:text-white transition">
                    {link.text}
                  </a>
                  {index < secondaryLinks.length - 1 && <span>Â·</span>}
                </>
              ))}
            </div>
          )
        }

        <!-- Social Links -->
        {
          socialLinks.length > 0 && (
            <div class="flex gap-4">
              {socialLinks.map((link) => (
                <a
                  href={link.href}
                  aria-label={link.ariaLabel}
                  class="text-gray-400 hover:text-white transition"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <Icon name={link.icon} class="w-5 h-5" />
                </a>
              ))}
            </div>
          )
        }
      </div>

      {footNote && <div class="text-sm text-center mt-6" set:html={footNote} />}

      <p class="text-sm text-center mt-4 text-gray-500">
        &copy; {currentYear}
        {SITE_NAME}. All rights reserved.
      </p>
    </div>
  </div>
</footer>
