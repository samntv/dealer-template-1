---
import { Icon } from "astro-icon/components";

interface Card {
  title?: string;
  description?: string;
  icon?: string;
  image?: string;
}

interface Props {
  title?: string;
  eyebrow?: string;
  description?: string;
  cards: Card[];
  ctaText?: string;
  ctaLink?: string;
}

const {
  title,
  eyebrow,
  description,
  cards = [],
  ctaText,
  ctaLink,
} = Astro.props;
---

<section class="py-12 sm:py-16 md:py-24 bg-gray-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    {
      (eyebrow || title || description) && (
        <div class="text-center mb-8 sm:mb-12">
          {eyebrow && (
            <p class="text-xs sm:text-sm font-semibold text-blue-600 uppercase tracking-wide mb-2">
              {eyebrow}
            </p>
          )}
          {title && (
            <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-4">
              {title}
            </h2>
          )}
          {description && (
            <p class="text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
              {description}
            </p>
          )}
        </div>
      )
    }

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8">
      {
        cards.map((card) => (
          <div class="bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            {card.image && (
              <div class="relative h-48 overflow-hidden">
                <img
                  src={card.image}
                  alt={card.title || "Card image"}
                  class="w-full h-full object-cover"
                  loading="lazy"
                />
              </div>
            )}
            <div class="p-6">
              {card.icon && (
                <div class="w-12 h-12 bg-gray-900 rounded-full flex items-center justify-center mb-4 mx-auto">
                  <Icon name={card.icon} class="w-6 h-6 text-white" />
                </div>
              )}
              {card.title && (
                <h3 class="text-lg font-bold text-gray-900 mb-2 text-center">
                  {card.title}
                </h3>
              )}
              {card.description && (
                <p class="text-sm text-gray-600 text-center">
                  {card.description}
                </p>
              )}
            </div>
          </div>
        ))
      }
    </div>

    {
      ctaText && ctaLink && (
        <div class="text-center mt-8 sm:mt-12">
          <a
            href={ctaLink}
            class="inline-block px-6 py-3 sm:px-8 sm:py-4 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition text-sm sm:text-base"
          >
            {ctaText}
          </a>
        </div>
      )
    }
  </div>
</section>
