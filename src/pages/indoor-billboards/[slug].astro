---
import { getCollection, type CollectionEntry } from 'astro:content';
import PageLayout from '~/layouts/PageLayout.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

export async function getStaticPaths() {
  const billboards = await getCollection('indoor-billboards');
  return billboards.map((entry) => ({
    params: { slug: entry.slug },
    props: { entry },
  }));
}

type Props = {
  entry: CollectionEntry<'indoor-billboards'>;
};

const { entry } = Astro.props;
const { Content } = await entry.render();

const metadata = {
  title: `${entry.data.title} - Your Brand`,
  description: entry.data.description,
};
---

<PageLayout metadata={metadata}>
  <article class="py-16">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <header class="mb-12">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
          {entry.data.title}
        </h1>
        <p class="text-xl text-gray-600">
          {entry.data.description}
        </p>
      </header>
      
      <div class="prose prose-lg max-w-none">
        <Content />
      </div>
    </div>
  </article>

  <CallToAction />
</PageLayout>
